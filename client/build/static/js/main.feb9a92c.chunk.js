(this.webpackJsonpprojfrontend=this.webpackJsonpprojfrontend||[]).push([[0],{18:function(e,t,c){},24:function(e,t,c){"use strict";c.r(t);var r=c(0),a=c(9),n=c.n(a),o=c(7),s=c(2),i=c(6),d=c(4),j=c(1),l=function(){return Object(j.jsx)("div",{className:"header",children:Object(j.jsx)("div",{className:"nav-helper",children:Object(j.jsx)("h1",{children:"ShoppingSpace"})})})},u=function(e){var t=e.title,c=void 0===t?"Homepage":t,r=e.description,a=void 0===r?"Welcome":r,n=e.children;return Object(j.jsxs)("div",{className:"main-page",children:[Object(j.jsx)(l,{}),Object(j.jsxs)("div",{className:"base-section",children:[Object(j.jsxs)("div",{className:"base-header",children:[Object(j.jsx)("h1",{className:"base-header-title",children:c}),Object(j.jsx)("p",{className:"base-header-desciption",children:a})]}),n]}),Object(j.jsx)("div",{className:"footer",children:Object(j.jsx)("h4",{children:"Designed by @srinivasteja18"})})]})},p=function(e){var t=e.product,c=Object(s.f)(),a=Object(r.useState)(!1),n=Object(d.a)(a,2),o=n[0],i=(n[1],Object(r.useState)(t.count)),l=Object(d.a)(i,2);l[0],l[1];return Object(j.jsxs)("div",{className:"card",children:[function(e){e&&c("/cart")}(o),Object(j.jsx)("div",{className:"card-image-div",children:Object(j.jsx)("img",{alt:"product",src:"/photo/".concat(t._id)})}),Object(j.jsxs)("div",{className:"card-details",children:[Object(j.jsx)("h2",{className:"card-name",children:t.name}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"card-price",children:"Price:"})," ",t.price]}),Object(j.jsxs)("p",{className:"card-description",children:[Object(j.jsx)("span",{className:"card-price",children:"Description: "}),t.description]})]})]})},b=function(){return fetch("/",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))};function h(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1];return Object(r.useEffect)((function(){b().then((function(e){e&&e.error?console.log("Fetching products Failed!",e.error):a(e)}))}),[]),Object(j.jsx)(u,{title:"Homepage",children:Object(j.jsx)("div",{className:"home-container",children:c&&c.map((function(e,t){return Object(j.jsx)(p,{product:e},t)}))})})}c(18),c(19);var m=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],n=function(){b().then((function(e){e.error?console.log(e.error):a(e)}))};Object(r.useEffect)((function(){n()}),[]);var s=function(e){(function(e){return fetch("/delete/".concat(e),{method:"Delete",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e).then((function(e){e.error?(console.log(e.error),Object(i.b)("product Delete Failed!!",{type:"error"})):(Object(i.b)("Product Deleted Succesfully",{type:"success"}),n())}))};return Object(j.jsx)(u,{title:"Manage your Products",description:"customize and update your products",children:Object(j.jsxs)("div",{className:"products-section",children:[Object(j.jsx)("h2",{children:"All Products"}),Object(j.jsx)("div",{className:"products-container",children:c&&c.map((function(e,t){return Object(j.jsxs)("div",{className:"product-card",children:[Object(j.jsx)("div",{className:"product-photo-div",children:Object(j.jsx)("img",{alt:"product",src:"/api/products/photo/".concat(e._id)})}),Object(j.jsxs)("div",{className:"product-details",children:[Object(j.jsxs)("p",{className:"product-detail",children:[Object(j.jsx)("span",{className:"product-property",children:"Name: "}),e.name]}),Object(j.jsxs)("p",{className:"product-detail",children:[Object(j.jsx)("span",{className:"product-property",children:"Description: "}),e.description]}),Object(j.jsxs)("p",{className:"product-detail",children:[Object(j.jsx)("span",{className:"product-property",children:"Stock: "}),e.stock]}),Object(j.jsxs)("p",{className:"product-detail",children:[Object(j.jsx)("span",{className:"product-property",children:"Price: "}),e.price]})]}),Object(j.jsxs)("div",{className:"product-buttons",children:[Object(j.jsx)(o.b,{to:"/admin/update/product/".concat(e._id),className:" product-button",children:"Update"}),Object(j.jsx)("button",{onClick:function(){return s(e._id)},className:" product-button",children:"Delete"})]})]},t)}))}),Object(j.jsx)(o.b,{to:"/admin/dashboard",className:"category-button",children:"Back"})]})})},O=c(8),f=c(3),x=function(e){e.match;var t=Object(s.f)(),c=Object(r.useState)({name:"",description:"",price:"",stock:"",photo:"",loading:!1,error:"",createdProduct:"",getRedirect:!1,formData:new FormData}),a=Object(d.a)(c,2),n=a[0],l=a[1],p=Object(s.g)().productId,b=n.name,h=n.description,m=n.price,x=n.stock,g=n.getRedirect,v=n.formData,N=function(e){(function(e){return fetch("/".concat(e,"/show"),{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e).then((function(e){e.error?l(Object(f.a)(Object(f.a)({},n),{},{error:e.error})):l(Object(f.a)(Object(f.a)({},n),{},{name:e.name,description:e.description,stock:e.stock,price:e.price,formData:new FormData}))}))};Object(r.useEffect)((function(){N(p)}),[]);var y=function(e){return function(t){var c="photo"===e?t.target.files[0]:t.target.value;v.set(e,c),l(Object(f.a)(Object(f.a)({},n),{},Object(O.a)({error:!1,getRedirect:!1},e,c)))}},P=function(e){e.preventDefault(),l(Object(f.a)(Object(f.a)({},n),{},{loading:!0,getRedirect:!1})),function(e,t){return fetch("/".concat(e,"/edit"),{method:"PUT",headers:{Accept:"application/json"},body:t}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(p,v).then((function(e){console.log(e),e.error?(l(Object(f.a)(Object(f.a)({},n),{},{error:e.error,loading:!1})),Object(i.b)("Product Update Failed",{type:"error"})):l(Object(f.a)(Object(f.a)({},n),{},{name:"",description:"",stock:"",price:"",category:"",loading:!1,createdProduct:e.name,photo:"",getRedirect:!0}))}))};return Object(j.jsx)(u,{title:"Update Products",description:"update and customize products",children:Object(j.jsxs)("div",{className:"middle-section",children:[void(g&&(Object(i.b)("Product Added Succesfully",{type:"success"}),setTimeout((function(){return t("/admin/dashboard")}),4e3))),Object(j.jsxs)("form",{className:"product-form",children:[Object(j.jsx)("h2",{children:"Update The Product"}),Object(j.jsxs)("div",{className:"product-form-container",children:[Object(j.jsx)("input",{className:"product-form-image-input",id:"product-image",type:"file",name:"image",placeholder:"Choose a file",accept:"image",onChange:y("photo")}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{className:"product-form-input",placeholder:"Product Name",value:b,type:"text",onChange:y("name")}),Object(j.jsx)("br",{}),Object(j.jsx)("textarea",{name:"Description",className:"text-area product-form-input",value:h,placeholder:"description",onChange:y("description")}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"number",className:"product-form-input",placeholder:"Price",value:m,onChange:y("price")}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"number",placeholder:"stock",className:"product-form-input",value:x,onChange:y("stock")}),Object(j.jsx)("button",{onClick:P,className:"category-button btn",children:"Update Product"})]}),Object(j.jsx)(o.b,{className:"category-button",to:"/admin/dashboard",children:"Back to Dashboard"})]})]})})};function g(){return Object(j.jsx)("div",{children:"Hello"})}var v=function(){var e=Object(s.f)(),t=Object(r.useState)({name:"",description:"",price:"",stock:"",photo:"",loading:!1,error:"",createdProduct:"",getRedirect:!1,formData:new FormData}),c=Object(d.a)(t,2),a=c[0],n=c[1],l=a.name,p=a.description,b=a.price,h=a.stock,m=a.getRedirect,x=a.formData;Object(r.useEffect)((function(){}),[]);var g=function(e){return function(t){var c="photo"===e?t.target.files[0]:t.target.value;x.set(e,c),n(Object(f.a)(Object(f.a)({},a),{},Object(O.a)({error:!1,getRedirect:!1},e,c)))}},v=function(e){var t;e.preventDefault(),n(Object(f.a)(Object(f.a)({},a),{},{loading:!0,getRedirect:!1})),(t=x,fetch("/new",{method:"POST",headers:{Accept:"application/json"},body:t}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){e.error?(n(Object(f.a)(Object(f.a)({},a),{},{error:e.error,loading:!1})),Object(i.b)("Product Added Failed",{type:"error"})):n(Object(f.a)(Object(f.a)({},a),{},{name:"",description:"",stock:"",price:"",category:"",loading:!1,createdProduct:e.name,photo:"",getRedirect:!0}))}))};return Object(j.jsx)(u,{title:"Create Products",description:"add new and cool products",children:Object(j.jsxs)("div",{className:"middle-section",children:[void(m&&(Object(i.b)("Product Added Succesfully",{type:"success"}),setTimeout((function(){return e("/")}),4e3))),Object(j.jsxs)("div",{style:{textAlign:"center"},children:[Object(j.jsxs)("form",{className:"product-form",children:[Object(j.jsx)("h2",{children:"Add a new Product"}),Object(j.jsxs)("div",{className:"product-form-container",children:[Object(j.jsx)("input",{className:"product-form-image-input",id:"product-image",type:"file",name:"image",placeholder:"Choose a file",accept:"image",onChange:g("photo")}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{className:"product-form-input",placeholder:"Product Name",value:l,type:"text",onChange:g("name")}),Object(j.jsx)("br",{}),Object(j.jsx)("textarea",{name:"Description",className:"text-area product-form-input",value:p,placeholder:"description",onChange:g("description")}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"number",className:"product-form-input",placeholder:"Price",value:b,onChange:g("price")}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"number",placeholder:"stock",className:"product-form-input",value:h,onChange:g("stock")}),Object(j.jsx)("button",{onClick:v,className:"category-button btn",children:"Add Product"})]})]}),Object(j.jsx)(o.b,{className:"category-button btn",to:"/admin/dashboard",children:"Back to Dashboard"})]})]})})};function N(){return Object(j.jsxs)(o.a,{children:[Object(j.jsx)(i.a,{theme:"dark"}),Object(j.jsxs)(s.c,{children:[Object(j.jsx)(s.a,{exact:!0,path:"/",element:Object(j.jsx)(h,{})}),Object(j.jsx)(s.a,{exact:!0,path:"/hello",element:Object(j.jsx)(g,{})}),Object(j.jsx)(s.a,{exact:!0,path:"/show/:productId",element:Object(j.jsx)(m,{})}),Object(j.jsx)(s.a,{path:"/new",element:Object(j.jsx)(v,{})}),Object(j.jsx)(s.a,{path:"/:productId/edit",element:Object(j.jsx)(x,{})})]})]})}c(20).config(),n.a.render(Object(j.jsx)(N,{}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.feb9a92c.chunk.js.map